数据库连接池情况下的数据库连接的获取过程
Mybatis只有在真正执行sql操作的时候才会去获取数据库连接


第一个阶段
利用Mybatis-Generator自动生成实体类, DAO接口和Mapping映射文件. 那时候觉得这个特别好用, 大概的过程是这样的

在数据库中先建好表
配置好几个xml文件(一般都是复制粘贴上一个项目的), 然后根据数据库中的表, 生成实体类, DAO接口和Mapping映射文件

当需要添加数据操作的时候, 先在xml中写好CRUD语句, 然后在DAO接口层写接口, 最后到映射文件

渐渐地, 我忽然发现, 这种方式越来越烦. 改一个字段, 要修改很多的配置文件, 正常的修改一些查询操作, 也需要修改很多已有的配置. 
第二个阶段
在学长指导之下, 走向了无xml的Mybatis之路. 在这个阶段, 数据操作的过程大概是这样的

设计需要的实体层
根据实体层, 在数据库中建表(非自动建表)
当需要进行增删改查的时候, 只需要在Mapper映射文件中, 用对应的注解@Select, @Delete等进行相应的操作即可

相比于第一个阶段的使用, 在这个阶段脱离了xml的束缚, 使用了全注解的形式. 但是还是有很多的问题. 比如, 没有自动生成的代码, 所有基础的增删改查都要自己写. 如果一个POJO的属性有20个, 那你的insert怕是有点长了. 
第三个阶段
这个阶段是上一个阶段的扩展, 实现了一个通用的mapper, 所有的mapper映射都继承这个通用的mapper, 就只需要写一些复杂的增删改查就行了

作者: 徐森威
链接: https://www.jianshu.com/p/25db002b0367
来源: 简书
简书著作权归作者所有, 任何形式的转载都请联系作者获得授权并注明出处. 




```xml
<!-- 比较数值 -->
<if test="value=0"></if>
<!-- 比较字符串,外层单引号,内层双引号 -->
<if test='str != null and str != ""'></if>
<!-- 比较布尔型,不可像字符串那样,否则false时条件不会为真 -->
<!-- 无论真假都使用其值时 -->
<if test="valid != null"></if>
<!-- 以下两种只适合仅为真时处理 -->
<if test="valid"></if>
<!-- 或 -->
<if test="valid == true"></if>
```