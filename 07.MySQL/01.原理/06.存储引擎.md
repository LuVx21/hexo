<details>
<summary>点击展开目录</summary>
<!-- TOC -->

- [存储引擎](#存储引擎)
    - [MyISAM](#myisam)
    - [InnoDB](#innodb)

<!-- /TOC -->
</details>

## 存储引擎

### MyISAM

索引为非聚集型, 索引和数据分开存储, B+Tree索引结构的叶节点data域存储的数据地址

* 查询性能好, 写操作有欠缺.
* 数据存储格式: 顺序存储
* 索引的指针: 索引btree上的节点是一个指向数据物理位置的指针, 所以查找起来很快
* 锁的策略: MyISAM是表锁, 涉及到写操作都是串行的
* 一次封锁技术, 不会发生死锁

### InnoDB

索引为聚集型, 数据本身就是B+Tree索引结构, 所以叶节点包含了完整的数据, data域记录的也是主键值, 这也要求表必须有主键, 没有则会创建一个长度为6, 长整型的隐式主键.

* 支持行锁
* 数据存储格式: 聚集索引
* 索引的指针: innodb索引节点存的则是数据的主键, 所以需要根据主键二次查找.
* 锁的策略: InnoDB 有行锁, 只有写写操作会阻塞.


两阶段锁定协议(two-phase locking protocol)

为了保证事务的隔离性, 即并发场景下多个事务的执行等同于串行


B 树能够在非叶节点中存储数据, 但是这也导致在查询连续数据时可能会带来更多的随机 I/O,

而 B+ 树的所有叶节点可以通过指针相互连接, 能够减少顺序遍历时产生的额外随机 I/O
